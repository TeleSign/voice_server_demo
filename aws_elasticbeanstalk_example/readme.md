Introduction
------------
Welcome! This walkthrough should help you get started with everything you need to create a server with Amazon for use with TeleSign's Voice API. If you need credentials for TeleSign's Voice API, you can sign up here - *[Sign up for TeleSign Voice API Credentials](https://info.telesign.com/Voice.html)*

Sign up for an AWS Account
--------------------------
If you do not have an AWS account, you need to sign up for one. If you already have one, skip these steps and log in. Otherwise, do the following: 
1.	Go to https://aws.amazon.com. 
2.	Click Create a Free Account. 
3.	Follow the instructions. 
4.	Once you have an account you can proceed to the next section.

Set up an Elastic Beanstalk Environment
---------------------------------------
You need to create a server where TeleSign can post events. In this section you’ll use elastic beanstalk to set up a server.
1.	Go to github and download the customer server folder.  
a.	URL: https://github.com/TeleSign/voice_server_demo
2.	Zip everything in the folder into a zip file and label it Archive.zip. 
3.	Log in to **AWS Console**. 
4.	Click the **Services** tab. 
5.	Click **Elastic Beanstalk** under compute. 
6.	Click **Create New Application**. 
7.	On the Create New Application popup enter a name for your application, for example tsvoice.
8.	Click **Create**. Amazon creates an application named tsvoice for you.
9.	Click **Create one now** to make a new environment.
10.	Choose **Web server environment** and click **Select**. 
11.	Fill out the environment information for your new server. You can mostly leave it on default. Under Base configuration by Platform make sure **Preconfigured platform** is selected. From the drop down choose **Docker**. 
12.	Beside Application code, choose **Upload your code**. 
13.	Click the **Upload** button. The Upload your code screen appears.
14.	On the Upload your code screen, next to Source code origin, click the **Local file** radio button. 
15.	Click **Browse**. 
16.	Navigate to the place on your desktop where you stored the Archive.zip file and upload it. 
17.	On the Upload your code screen in the Version label field, type **v1**. 
18.	Click **Upload**. 
19.	Click **Create environment**. It will take a few minutes to build, but you should be taken to a new screen showing details about your environment. The URL for your server is at the top of the page.
20.	Send a curl request to test the environment. Your request should look like this: 
```
 curl -X POST \ 
 <replace with Server URL generated by ElasticBeanstalk> \ 
 -H 'Content-Type: application/json' \ 
 -d '{
    "reference_id": "35A5E2BA", 
    "event": "incoming_call", 
    "data": {
        "to": "VIRTUAL_NUMBER", 
        "from": "CALLER_ID"
    }
}'
```

When you have tested that everything works, you are ready to set up the API Gateway. Save your server URL because you will need it for some of the steps for the API Gateway setup.

Set up the API Gateway
----------------------
Make sure you completed the steps for setting up your server as described in the previous section. This section will help you set up an API Gateway. Make sure you are logged in to your AWS account to get started.
1.	In your AWS account, click **Services**. 
2.	Under Networking & Content Delivery, click **API Gateway**. 
3.	On the Amazon API Gateway screen, click **Get Started**.
4.	If the Create Example API popup appears, click **OK**.
5.	Under Create new API click the **New API** radio button. 
6.	Under Settings in the API name field name your API. For this example, we named it voice.
7.	Use the Endpoint Type drop down to choose **Edge optimized**.
8.	Click **Create API**. You are taken to your new API on the Resources page.
9.	On the Resources page, click the **Actions** button. 
10.	Choose **Create Method**. A dropdown box appears under the slash under the **Actions** button.
11.	Click the drop down menu and select **POST**. 
12.	Click the check box next to **POST**. The POST Setup screen appears.
13.	For POST setup, for Integration type, click the **HTTP** radio button. 
14.	For Endpoint URL, paste in your server link from your elastic beanstalk environment. This was the URL you received when you created your elastic beanstalk environment, and that you saved and set aside from the first section. 
15.	Click **Save**.
16.	Click **Actions**.
17.	Click **Deploy API**. 
18.	In the Deploy API popup, for Deployment stage choose **[New Stage]**.
19.	For Stage name, choose **v1**. 
20.	Click **Deploy**.
21.	You are taken to the Stage Editor. Next to Invoke URL, click the URL displayed. This is the address for your customer server. 
22.	Give this URL to TeleSign so it can be set up as the URL for your server. 

To get started, you’ll need to review the Voice documentation here: https://enterprise.telesign.com/api-reference/apis/voice/overview.

